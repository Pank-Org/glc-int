{
	"info": {
		"_postman_id": "10497157-e7a8b500-dd6f-440f-a45b-369cbd158015",
		"name": "[Monitor] [Sanity] API Specification service",
		"description": "Debugging steps if you see failures in this reported via the monitors:\n\n[https://whimsical.com/triage-monitor-failures-868kMPybZfPsAxrrT8NF62](https://whimsical.com/triage-monitor-failures-868kMPybZfPsAxrrT8NF62)",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "Create & fetch spec",
			"item": [
				{
					"name": "Create Spec",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"try {",
									"    const {retryOnFailure} = pm.require('@postman/api-builder-request-retry-script');",
									"",
									"    if (retryOnFailure()) {",
									"        // We don't want to run further assertions since this request will be retried because >500 (e.g 502, 504) response code was received.",
									"        return;",
									"    }",
									"",
									"    pm.test(\"Status code is 201\", function () {",
									"        pm.response.to.have.status(201);",
									"    });",
									"",
									"    if (pm.response.code !== 201)  {",
									"        throw 'StatusCode: ' + pm.response.code;",
									"    }",
									"",
									"    pm.test(\"Response is an object with meta and data properties\", function () {",
									"        var jsonData = pm.response.json();",
									"        pm.expect(jsonData).to.be.an('object');",
									"        pm.expect(jsonData).to.have.property('meta');",
									"        pm.expect(jsonData).to.have.property('data');",
									"    });",
									"",
									"    pm.test(\"Schema is valid\", function () {",
									"        var schema = {",
									"            type: \"object\",",
									"            properties: {",
									"                meta: {",
									"                    type: \"object\",",
									"                    properties: {",
									"                        action: { type: \"string\" },",
									"                        model: { type: \"string\" }",
									"                    }",
									"                },",
									"                data: {",
									"                    type: \"object\",",
									"                    properties: {",
									"                        id: { type: \"string\" },",
									"                        name: { type: \"string\" },",
									"                        type: { type: \"string\" },",
									"                        createdBy: { type: \"string\" },",
									"                        updatedBy: { type: \"string\" },",
									"                        description: { type: \"string\" },",
									"                        updatedAt: { type: \"string\" },",
									"                        createdAt: { type: \"string\" }",
									"                    },",
									"                    required: [\"id\", \"name\", \"type\", \"createdBy\", \"updatedBy\", \"description\", \"updatedAt\", \"createdAt\"]",
									"                }",
									"            },",
									"            required: [\"meta\", \"data\"]",
									"        };",
									"",
									"        var response = pm.response.json();",
									"        pm.expect(tv4.validate(response, schema)).to.be.true;",
									"",
									"        // set spec Id",
									"        pm.environment.set(\"specificationId1\", response.data.id);",
									"",
									"        console.log('Specification ID:', response.data.id);",
									"    });",
									"",
									"    // Retrieve the saved \"id\" value from the variable",
									"    pm.test(\"Validate response against saved 'id' value\", function () {",
									"        var savedName = \"Spec1\";",
									"        var savedType = \"OPENAPI:3.0\";",
									"        var responseBody = pm.response.json();",
									"        var { name, type } = responseBody.data;",
									"",
									"        pm.expect(name).to.equal(savedName);",
									"        pm.expect(type).to.equal(savedType);",
									"    });",
									"} catch (error) {",
									"    console.log('Error:', error);",
									"    console.log('Response Body', pm.response.text());",
									"",
									"    pm.execution.setNextRequest(null);",
									"}"
								],
								"type": "text/javascript",
								"packages": {
									"@postman/api-builder-request-retry-script": {
										"id": "019491be-1f51-7e13-b196-4e4fec49649f"
									}
								},
								"id": "d36871b6-22e5-435b-853f-e8b2542b30b3"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript",
								"packages": {},
								"id": "2127650b-0bc7-4c25-bad4-c3ca595c4d5f"
							}
						}
					],
					"id": "10497157-fc0f4158-ed2b-4cf9-8b76-a780217f6fe7",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"service\": \"specification\",\n    \"method\": \"post\",\n    \"path\": \"/specifications\",\n    \"query\": {\n        \"containerType\": \"workspace\",\n        \"containerId\": \"{{workspaceId}}\"\n    },\n    \"body\": {\n        \"name\": \"Spec1\",\n        \"description\": \"this is a demo API\",\n        \"type\": \"OPENAPI:3.0\",\n        \"files\": [\n            {\n                \"path\": \"index.yml\",\n                \"content\": \"openapi: '3.0.0'\\ninfo:\\n  version: '1.0.0'\\n  title: 'Sample API'\\n  description: Buy or rent spacecrafts\\n\\npaths:\\n  /spacecrafts/{spacecraftId}:\\n    parameters:\\n      - name: spacecraftId\\n        description: The unique identifier of the spacecraft\\n        in: path\\n        required: true\\n        schema:\\n          $ref: '#/components/schemas/SpacecraftId'\\n    get:\\n      summary: Read a spacecraft\\n      responses:\\n        '200':\\n          description: The spacecraft corresponding to the provided spacecraftId\\n          content:\\n            application/json:\\n              schema:\\n                $ref: '#/components/schemas/Spacecraft'\\n        404:\\n          description: No spacecraft found for the provided spacecraftId\\n          content:\\n            application/json:\\n              schema:\\n                $ref: '#/components/schemas/Error'\\n        500:\\n          description: Unexpected error\\n          content:\\n            application/json:\\n              schema:\\n                $ref: '#/components/schemas/Error'\\ncomponents:\\n  schemas:\\n    SpacecraftId:\\n      description: The unique identifier of a spacecraft\\n      type: string\\n    Spacecraft:\\n      type: object\\n      required:\\n        - id\\n        - name\\n        - type\\n      properties:\\n        id:\\n          $ref: '#/components/schemas/SpacecraftId'\\n        name:\\n          type: string\\n        type:\\n          type: string\\n          enum:\\n            - capsule\\n            - probe\\n            - satellite\\n            - spaceplane\\n            - station\\n        description:\\n          type: string\\n    Error:\\n      type: object\\n      required:\\n        - message\\n      properties:\\n        message:\\n          description: A human readable error message\\n          type: string\\n  securitySchemes:\\n    ApiKey:\\n      type: apiKey\\n      in: header\\n      name: X-Api-Key\\nsecurity:\\n  - ApiKey: []\",\n                \"type\": \"ROOT\"\n            }\n        ]\n    }\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{bifrostProxyUrl}}",
							"host": [
								"{{bifrostProxyUrl}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "List Specs",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"const Ajv = require('ajv');",
									"",
									"try {",
									"    const {retryOnFailure} = pm.require('@postman/api-builder-request-retry-script');",
									"",
									"    if (retryOnFailure()) {",
									"        // We don't want to run further assertions since this request will be retried because >500 (e.g 502, 504) response code was received.",
									"        return;",
									"    }",
									"",
									"    pm.test(\"Status code is 200\", function () {",
									"        pm.response.to.have.status(200);",
									"    });",
									"",
									"    pm.test(\"Schema is valid\", function () {",
									"        console.log(pm.response.json());",
									"        var schema = {",
									"            type: \"object\",",
									"            properties: {",
									"                meta: {",
									"                    type: \"object\",",
									"                    properties: {",
									"                        action: { type: \"string\" },",
									"                        model: { type: \"string\" },",
									"                        cursor: {",
									"                            type: \"object\",",
									"                            properties: {",
									"                                next: { type: [\"string\", \"null\"] }",
									"                            },",
									"                            required: [\"next\"]",
									"                        }",
									"                    },",
									"                    required: [\"action\", \"model\", \"cursor\"]",
									"                },",
									"                data: {",
									"                    type: \"array\",",
									"                    items: {",
									"                        type: \"object\",",
									"                        properties: {",
									"                            id: { type: \"string\" },",
									"                            type: { type: \"string\" },",
									"                            name: { type: \"string\" },",
									"                            description: { type: [\"string\", \"null\"]},",
									"                            createdBy: { type: \"string\" },",
									"                            updatedBy: { type: \"string\" },",
									"                            createdAt: { type: \"string\" },",
									"                            updatedAt: { type: \"string\" }",
									"                        },",
									"                        required: [\"id\", \"type\", \"name\", \"description\", \"createdBy\", \"updatedBy\", \"createdAt\", \"updatedAt\"]",
									"                    }",
									"                }",
									"            },",
									"            required: [\"meta\", \"data\"]",
									"        };",
									"",
									"        var response = pm.response.json();",
									"        const validator = new Ajv({logger: console, allErrors: true});",
									"        console.log(validator.validate(schema, response), validator.errors)",
									"        pm.expect(validator.validate(schema, response)).to.be.true;",
									"    });",
									"} catch (error) {",
									"    console.log('Error:', error);",
									"    console.log('Response Body', pm.response.text());",
									"}",
									""
								],
								"type": "text/javascript",
								"packages": {
									"@postman/api-builder-request-retry-script": {
										"id": "019491be-1f51-7e13-b196-4e4fec49649f"
									}
								},
								"id": "47b008f1-0953-4886-bee4-bcffb0966b70"
							}
						}
					],
					"id": "10497157-a8784a9d-8445-4659-a821-c4b01b6fbb50",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "",
								"value": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"service\": \"specification\",\n    \"method\": \"get\",\n    \"path\": \"/specifications\",\n    \"query\": {\n        \"containerType\": \"workspace\",\n        \"containerId\": \"{{workspaceId}}\",\n        \"limit\": 10\n    }\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{bifrostProxyUrl}}",
							"host": [
								"{{bifrostProxyUrl}}"
							],
							"query": [
								{
									"key": "cursor",
									"value": "eyJvcmRlckJ5IjpbeyJwaXZvdCI6ImNyZWF0ZWRBdCIsInNjaGVtZSI6IkRFU0MiLCJ2YWx1ZSI6IjIwMjQtMDItMjNUMTI6MzQ6MzQuMDAwWiJ9LHsicGl2b3QiOiJpZCIsInNjaGVtZSI6IkRFU0MiLCJ2YWx1ZSI6ImI5ZGExZWI4LTIzMjUtNDEzOS1iM2Y2LWE3NjQ5MDNlMTNlOCJ9XSwiZGlyZWN0aW9uIjoibmV4dCJ9",
									"disabled": true
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "List One Spec",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"try {",
									"    const apiBuilderRequestRetryScript = pm.require('@postman/api-builder-request-retry-script');",
									"",
									"    if (apiBuilderRequestRetryScript.retryOnFailure()) {",
									"        // We don't want to run further assertions since this request will be retried because >500 (e.g 502, 504) response code was received.",
									"        return;",
									"    }",
									"",
									"    pm.test(\"Status code is 200\", function () {",
									"        pm.response.to.have.status(200);",
									"    });",
									"",
									"    pm.test(\"Response is an object with meta and data properties\", function () {",
									"            var jsonData = pm.response.json();",
									"            pm.expect(jsonData).to.be.an('object');",
									"            pm.expect(jsonData).to.have.property('meta');",
									"            pm.expect(jsonData).to.have.property('data');",
									"        });",
									"",
									"    pm.test(\"Schema is valid\", function () {",
									"        var schema = {",
									"            type: \"object\",",
									"            properties: {",
									"                meta: {",
									"                    type: \"object\",",
									"                    properties: {",
									"                        action: { type: \"string\" },",
									"                        model: { type: \"string\" }",
									"                    }",
									"                },",
									"                data: {",
									"                    type: \"object\",",
									"                    properties: {",
									"                        id: { type: \"string\" },",
									"                        name: { type: \"string\" },",
									"                        type: { type: \"string\" },",
									"                        createdBy: { type: \"string\" },",
									"                        updatedBy: { type: \"string\" },",
									"                        description: { type: \"string\" },",
									"                        updatedAt: { type: \"string\" },",
									"                        createdAt: { type: \"string\" }",
									"                    },",
									"                    required: [\"id\", \"name\", \"type\", \"createdBy\", \"updatedBy\", \"description\", \"updatedAt\", \"createdAt\"]",
									"                }",
									"            },",
									"            required: [\"meta\", \"data\"]",
									"        };",
									"",
									"        var response = pm.response.json();",
									"        pm.expect(tv4.validate(response, schema)).to.be.true;",
									"    });",
									"",
									"    pm.test(\"Validate response against saved 'id' value\", function () {",
									"        var savedId = pm.environment.get(\"specificationId1\");",
									"",
									"        var responseBody = pm.response.json(),",
									"            responseId = responseBody.data.id;",
									"",
									"        pm.expect(responseId).to.be.eql(savedId);",
									"    });",
									"",
									"} catch (error) {",
									"    console.log('Error:', error);",
									"    console.log('Response Body', pm.response.text());",
									"}",
									""
								],
								"type": "text/javascript",
								"packages": {
									"@postman/api-builder-request-retry-script": {
										"id": "019491be-1f51-7e13-b196-4e4fec49649f"
									}
								},
								"id": "709f3969-f0dc-4ec8-a1dc-3dd4c6c3370f"
							}
						}
					],
					"id": "10497157-10cd0eb6-31d7-4e05-bd15-4a0871637c59",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "",
								"value": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"service\": \"specification\",\n    \"method\": \"get\",\n    \"path\": \"/specifications/{{specificationId1}}\",\n    \"query\": {\n        \"containerType\": \"workspace\",\n        \"containerId\": \"{{workspaceId}}\"\n    }\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{bifrostProxyUrl}}",
							"host": [
								"{{bifrostProxyUrl}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Fetch tree",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"try {",
									"    const apiBuilderRequestRetryScript = pm.require('@postman/api-builder-request-retry-script');",
									"",
									"    if (apiBuilderRequestRetryScript.retryOnFailure()) {",
									"        // We don't want to run further assertions since this request will be retried because >500 (e.g 502, 504) response code was received.",
									"        return;",
									"    }",
									"",
									"    pm.test(\"Status code is 200\", function () {",
									"        pm.response.to.have.status(200);",
									"    });",
									"",
									"    pm.test(\"Response has the required meta object\", function () {",
									"        const responseData = pm.response.json();",
									"",
									"        pm.expect(responseData).to.be.an('object');",
									"        pm.expect(responseData.meta).to.exist.and.to.be.an('object');",
									"        pm.expect(responseData.meta.action).to.exist;",
									"        pm.expect(responseData.meta.model).to.exist;",
									"        pm.expect(responseData.meta.cursor).to.exist.and.to.be.an('object');",
									"    });",
									"",
									"",
									"    pm.test(\"Each data object contains the required fields\", function () {",
									"        const responseData = pm.response.json();",
									"",
									"        pm.expect(responseData.data).to.be.an('array');",
									"",
									"        responseData.data.forEach(function (dataObj) {",
									"            pm.expect(dataObj).to.include.all.keys('content', 'path', 'name', 'id', 'fileType', 'type');",
									"        });",
									"    });",
									"",
									"",
									"    pm.test(\"Cursor object contains a next property\", function () {",
									"        const responseData = pm.response.json();",
									"",
									"        pm.expect(responseData.meta.cursor).to.exist;",
									"        pm.expect(responseData.meta.cursor.next).to.be.null;",
									"    });",
									"",
									"",
									"    pm.test(\"File type is in a valid format\", function () {",
									"        const responseData = pm.response.json();",
									"",
									"        pm.expect(responseData).to.be.an('object');",
									"        responseData.data.forEach(function (item) {",
									"            pm.expect(item.fileType).to.match(/[a-zA-Z]+/, \"File type should be a valid format\");",
									"        });",
									"",
									"        // save file id for update file API",
									"        const fileId = responseData.data[0].id;",
									"        pm.environment.set(\"fileId\", fileId);",
									"    });",
									"} catch (err) {",
									"    console.log('Error:', err);",
									"    console.log('Response Body', pm.response.text());",
									"}"
								],
								"type": "text/javascript",
								"packages": {
									"@postman/api-builder-request-retry-script": {
										"id": "019491be-1f51-7e13-b196-4e4fec49649f"
									}
								},
								"id": "2ff4ff9b-5207-4c21-8d3f-5aede857e64a"
							}
						}
					],
					"id": "10497157-1599d56d-f6d5-4720-b37d-6e95e3d939f4",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"service\": \"specification\",\n    \"method\": \"get\",\n    \"path\": \"/specifications/{{specificationId1}}/tree\",\n    \"query\": {\n        \"fields\": \"content,path,name,id,fileType,type\"\n    }\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{bifrostProxyUrl}}",
							"host": [
								"{{bifrostProxyUrl}}"
							]
						}
					},
					"response": []
				}
			],
			"id": "10497157-9c21324f-f452-442a-b1b9-598c4f9047c2"
		},
		{
			"name": "Collection generation",
			"item": [
				{
					"name": "Generate collection",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"try {",
									"    const apiBuilderRequestRetryScript = pm.require('@postman/api-builder-request-retry-script');",
									"",
									"    if (apiBuilderRequestRetryScript.retryOnFailure()) {",
									"        // We don't want to run further assertions since this request will be retried because >500 (e.g 502, 504) response code was received.",
									"        return;",
									"    }",
									"",
									"    pm.test(\"Status code is 202\", function () {",
									"        pm.response.to.have.status(202);",
									"    });",
									"",
									"",
									"    if (pm.response.code !== 202)  {",
									"        throw 'StatusCode: ' + pm.response.code;",
									"    }",
									"",
									"    pm.test(\"Response has the required fields - 'meta' and 'data'\", function () {",
									"        const responseData = pm.response.json();",
									"        ",
									"        pm.expect(responseData).to.be.an('object');",
									"        pm.expect(responseData).to.have.property('meta');",
									"        pm.expect(responseData).to.have.property('data');",
									"    });",
									"",
									"",
									"    pm.test(\"TaskId in the response data is a non-empty string\", function () {",
									"        const responseData = pm.response.json();",
									"        ",
									"        pm.expect(responseData.data.taskId).to.be.a('string').and.to.have.lengthOf.at.least(1, \"TaskId should be a non-empty string\");",
									"",
									"        pm.environment.set(\"taskId\", responseData.data.taskId);",
									"    });",
									"",
									"",
									"    pm.test(\"Content type is application/json\", function () {",
									"        pm.expect(pm.response.headers.get(\"Content-Type\")).to.include(\"application/json\");",
									"    });",
									"    ",
									"",
									"} catch (error) {",
									"    console.log('Error:', error);",
									"    console.log('Response Body', pm.response.text());",
									"    pm.execution.setNextRequest('Add folder');",
									"}",
									""
								],
								"type": "text/javascript",
								"packages": {
									"@postman/api-builder-request-retry-script": {
										"id": "019491be-1f51-7e13-b196-4e4fec49649f"
									}
								},
								"id": "71d8cd1a-0b38-49b8-8997-16b2026a706e"
							}
						}
					],
					"id": "10497157-790ccc74-32e4-4095-b15e-af7dcff931b2",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"service\": \"specification\",\n    \"method\": \"post\",\n    \"path\": \"/specifications/{{specificationId1}}/collections\",\n    \"body\": {\n        \"name\": \"C1\",\n        \"options\": {\n            \"enableOptionalParameters\": true,\n            \"folderStrategy\": \"Tags\"\n        }\n    }\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{bifrostProxyUrl}}",
							"host": [
								"{{bifrostProxyUrl}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "List generation task status - until finished",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"try {",
									"    const apiBuilderRequestRetryScript = pm.require('@postman/api-builder-request-retry-script');",
									"",
									"    if (apiBuilderRequestRetryScript.retryOnFailure()) {",
									"        // We don't want to run further assertions since this request will be retried because >500 (e.g 502, 504) response code was received.",
									"        return;",
									"    }",
									"",
									"    pm.test(\"Response status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"    });",
									"",
									"    pm.test(\"Generation is successful\", function () {",
									"        var response = pm.response.json();",
									"        pm.expect(response).to.have.property('meta');",
									"        pm.expect(response).to.have.property('data');",
									"        pm.expect(response.meta).to.be.an('object').that.has.property('model').is.equal('Task');",
									"        pm.expect(response.meta).to.be.an('object').that.has.property('action').is.equal('list');",
									"        pm.expect(response.data).to.be.an('object').that.has.property(pm.environment.get('taskId'));",
									"",
									"        const currentRetryCount = Number(pm.environment.get('generationStatusRetryCount'));",
									"",
									"        console.log('retryCount',currentRetryCount );",
									"",
									"        if ( currentRetryCount > 5) {",
									"            console.log('Exceeded retries');",
									"",
									"            throw 'Exceeded retries';",
									"        } else if (response.data[pm.environment.get('taskId')] === 'in-progress') {",
									"            pm.environment.set('generationStatusRetryCount', currentRetryCount + 1);",
									"",
									"            pm.execution.setNextRequest('List generation task status - until finished');",
									"        } else if (response.data[pm.environment.get('taskId')] === 'failed') {",
									"            throw 'Status: failed';",
									"        }",
									"    });",
									"} catch (err) {",
									"    console.log('Error:', err);",
									"    console.log('Response Body', pm.response.text());",
									"    ",
									"    pm.execution.setNextRequest('Add folder');",
									"} finally {",
									"    pm.environment.set('generationStatusRetryCount', 0);",
									"}"
								],
								"type": "text/javascript",
								"packages": {
									"@postman/api-builder-request-retry-script": {
										"id": "019491be-1f51-7e13-b196-4e4fec49649f"
									}
								},
								"id": "c4959890-848d-46ee-bd64-e5aed04e6e88"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"setTimeout(function() {}, 1000);"
								],
								"type": "text/javascript",
								"packages": {},
								"id": "29cffd6e-094f-452a-bb1b-fc659ff24f3a"
							}
						}
					],
					"id": "10497157-1971999d-3099-437b-961c-9874df4c08e9",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"service\": \"specification\",\n    \"method\": \"get\",\n    \"path\": \"/tasks?entityId={{specificationId1}}&entityType=specification&type=collection-generation\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{bifrostProxyUrl}}",
							"host": [
								"{{bifrostProxyUrl}}"
							]
						},
						"description": "Assert task staus to be successful"
					},
					"response": []
				},
				{
					"name": "List generated collections",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"try {",
									"    const apiBuilderRequestRetryScript = pm.require('@postman/api-builder-request-retry-script');",
									"",
									"    if (apiBuilderRequestRetryScript.retryOnFailure()) {",
									"        // We don't want to run further assertions since this request will be retried because >500 (e.g 502, 504) response code was received.",
									"        return;",
									"    }",
									"",
									"    pm.test(\"Response status code is 200\", function () {",
									"        pm.response.to.have.status(200);",
									"    });",
									"",
									"    pm.test(\"Success response\", function () {",
									"        var response = pm.response.json();",
									"        pm.expect(response).to.have.property('meta');",
									"        pm.expect(response.meta).to.have.property('cursor');",
									"        pm.expect(response.meta.cursor).to.have.property('next');",
									"",
									"        pm.expect(response).to.have.property('data');",
									"        pm.expect(response.meta).to.be.an('object').that.has.property('model');",
									"        pm.expect(response.meta).to.be.an('object').that.has.property('action');",
									"        pm.expect(response.data).to.be.an('array').that.has.length(1);",
									"",
									"        pm.expect(response.data[0]).to.be.an('object').that.has.property('state').is.equal('in-sync');",
									"",
									"        // Set the collectionId as variable",
									"        pm.environment.set('collectionId', response.data[0].collection);",
									"    });",
									"} catch (err) {",
									"    console.log('Error:', err);",
									"    console.log('Response Body', pm.response.text());",
									"    pm.execution.setNextRequest('Add folder');",
									"}"
								],
								"type": "text/javascript",
								"packages": {
									"@postman/api-builder-request-retry-script": {
										"id": "019491be-1f51-7e13-b196-4e4fec49649f"
									}
								},
								"id": "627037f2-fe7b-4b52-b4b0-81022acb5451"
							}
						}
					],
					"id": "10497157-6867494d-b537-47ea-a22f-d8f816fd1083",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"service\": \"specification\",\n    \"method\": \"get\",\n    \"path\": \"/specifications/{{specificationId1}}/collections\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{bifrostProxyUrl}}",
							"host": [
								"{{bifrostProxyUrl}}"
							]
						}
					},
					"response": []
				}
			],
			"id": "10497157-77bdfebe-9f00-445a-ad85-04bbbdc21765"
		},
		{
			"name": "File & Folder create,update",
			"item": [
				{
					"name": "Add folder",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"try {    ",
									"    const apiBuilderRequestRetryScript = pm.require('@postman/api-builder-request-retry-script');",
									"",
									"    if (apiBuilderRequestRetryScript.retryOnFailure()) {",
									"        // We don't want to run further assertions since this request will be retried because >500 (e.g 502, 504) response code was received.",
									"        return;",
									"    }",
									"",
									"    pm.test(\"Status code is 201\", function () {",
									"        pm.response.to.have.status(201);",
									"    });",
									"",
									"    if (pm.response.code !== 201)  {",
									"        throw 'StatusCode: ' + pm.response.code;",
									"    }",
									"",
									"    pm.test('Response body is valid', function () {",
									"        const jsonData = pm.response.json();",
									"",
									"        pm.expect(jsonData).to.be.an('object');",
									"        pm.expect(jsonData).to.have.all.keys(['meta', 'data']);",
									"    });",
									"",
									"    pm.test(\"Response body.meta is valid\", function () {",
									"        const jsonData = pm.response.json();",
									"",
									"        pm.expect(jsonData.meta).to.be.an('object');",
									"        pm.expect(jsonData.meta).to.have.property('model', 'SpecificationFolder');",
									"        pm.expect(jsonData.meta).to.have.property('action', 'create');",
									"    });",
									"",
									"    pm.test(\"Response body.data is valid\", function () {",
									"        var jsonData = pm.response.json();",
									"",
									"        pm.expect(jsonData.data).to.be.an('object');",
									"        pm.expect(jsonData.data).to.have.all.keys(['id', 'name', 'createdBy', 'updatedBy', 'createdAt', 'updatedAt']);",
									"",
									"        pm.environment.set(\"spec1FolderId1\", jsonData.data.id);",
									"    });",
									"} catch (error) {",
									"    console.log('Error:', error);",
									"    console.log('Response Body', pm.response.text());",
									"}",
									""
								],
								"type": "text/javascript",
								"packages": {
									"@postman/api-builder-request-retry-script": {
										"id": "019491be-1f51-7e13-b196-4e4fec49649f"
									}
								},
								"id": "52001a2e-443e-45e2-a0d7-cb8ce02990c7"
							}
						}
					],
					"id": "10497157-df71ea2e-62c5-41f9-89eb-dc242db5ffb5",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"service\": \"specification\",\n    \"method\": \"post\",\n    \"path\": \"/specifications/{{specificationId1}}/folders\",\n    \"body\": {\n        \"name\": \"folder1\"\n    }\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{bifrostProxyUrl}}",
							"host": [
								"{{bifrostProxyUrl}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Update folder",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"try {",
									"    const apiBuilderRequestRetryScript = pm.require('@postman/api-builder-request-retry-script');",
									"",
									"    if (apiBuilderRequestRetryScript.retryOnFailure()) {",
									"        // We don't want to run further assertions since this request will be retried because >500 (e.g 502, 504) response code was received.",
									"        return;",
									"    }",
									"",
									"",
									"    pm.test(\"Status code is 200\", function () {",
									"        pm.response.to.have.status(200);",
									"    });",
									"",
									"    pm.test('Response body is valid', function () {",
									"        const jsonData = pm.response.json();",
									"",
									"        pm.expect(jsonData).to.be.an('object');",
									"        pm.expect(jsonData).to.have.all.keys(['meta', 'data']);",
									"    });",
									"",
									"    pm.test(\"Response body.meta is valid\", function () {",
									"        const jsonData = pm.response.json();",
									"",
									"        pm.expect(jsonData.meta).to.be.an('object');",
									"        pm.expect(jsonData.meta).to.have.property('model', 'SpecificationFolder');",
									"        pm.expect(jsonData.meta).to.have.property('action', 'patch');",
									"    });",
									"",
									"    pm.test(\"Response body.data is valid\", function () {",
									"        var jsonData = pm.response.json();",
									"",
									"        pm.expect(jsonData.data).to.be.an('object');",
									"        pm.expect(jsonData.data).to.have.all.keys('id');",
									"    });",
									"} catch (error) {",
									"    console.log('Error:', error);",
									"    console.log('Response Body', pm.response.text());",
									"}",
									""
								],
								"type": "text/javascript",
								"packages": {
									"@postman/api-builder-request-retry-script": {
										"id": "019491be-1f51-7e13-b196-4e4fec49649f"
									}
								},
								"id": "e7902916-8579-49d3-9cb1-80920b788221"
							}
						}
					],
					"id": "10497157-2e857e94-9016-49ec-8214-dc419f215081",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"service\": \"specification\",\n    \"method\": \"patch\",\n    \"path\": \"/specifications/{{specificationId1}}/folders/{{spec1FolderId1}}\",\n    \"body\": [\n        {\n            \"op\": \"replace\",\n            \"path\": \"/name\",\n            \"value\": \"folder1Updated\"\n        }\n    ]\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{bifrostProxyUrl}}",
							"host": [
								"{{bifrostProxyUrl}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Validate updated folder record",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"try {",
									"    const apiBuilderRequestRetryScript = pm.require('@postman/api-builder-request-retry-script');",
									"",
									"    if (apiBuilderRequestRetryScript.retryOnFailure()) {",
									"        // We don't want to run further assertions since this request will be retried because >500 (e.g 502, 504) response code was received.",
									"        return;",
									"    }",
									"",
									"    pm.test(\"Status code is 200\", function () {",
									"        pm.response.to.have.status(200);",
									"    });",
									"",
									"    pm.test(\"Validate updated folder\", function(){",
									"        const responseData = pm.response.json(),",
									"        targetFolderId = pm.environment.get(\"spec1FolderId1\"),",
									"        updatedFolder = responseData.data;",
									"",
									"        pm.expect(updatedFolder.id).to.be.eql(targetFolderId);",
									"        pm.expect(updatedFolder.name).to.be.eql(\"folder1Updated\");",
									"    })",
									"} catch (error) {",
									"    console.log('Error:', error);",
									"    console.log('Response Body', pm.response.text());",
									"}",
									""
								],
								"type": "text/javascript",
								"packages": {
									"@postman/api-builder-request-retry-script": {
										"id": "019491be-1f51-7e13-b196-4e4fec49649f"
									}
								},
								"id": "08956795-072e-4025-be85-16aeb84da757"
							}
						}
					],
					"id": "10497157-3ba899b6-7b4c-47ae-af09-328f459610cb",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"service\": \"specification\",\n    \"method\": \"get\",\n    \"path\": \"/specifications/{{specificationId1}}/folders/{{spec1FolderId1}}\",\n    \"query\": {\n        \"fields\": \"path,name,id\"\n    }\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{bifrostProxyUrl}}",
							"host": [
								"{{bifrostProxyUrl}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Add file",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"try {",
									"    const apiBuilderRequestRetryScript = pm.require('@postman/api-builder-request-retry-script');",
									"",
									"    if (apiBuilderRequestRetryScript.retryOnFailure()) {",
									"        // We don't want to run further assertions since this request will be retried because >500 (e.g 502, 504) response code was received.",
									"        return;",
									"    }",
									"",
									"    if (pm.response.code !== 201) {",
									"        throw 'StatusCode: ' + pm.response.code;",
									"    }",
									"",
									"    pm.test(\"Schema is valid\", function () {",
									"        var schema = {",
									"            type: \"object\",",
									"            properties: {",
									"                meta: {",
									"                    type: \"object\",",
									"                    properties: {",
									"                        model: { type: \"string\" },",
									"                        action: { type: \"string\" }",
									"                    },",
									"                    required: [\"model\", \"action\"]",
									"                },",
									"                data: {",
									"                    type: \"object\",",
									"                    properties: {",
									"                        id: { type: \"string\" },",
									"                        name: { type: \"string\" },",
									"                        createdBy: { type: \"string\" },",
									"                        updatedBy: { type: \"string\" },",
									"                        createdAt: { type: \"string\" },",
									"                        updatedAt: { type: \"string\" }",
									"                    },",
									"                    required: [\"id\", \"name\", \"createdBy\", \"updatedBy\", \"createdAt\", \"updatedAt\"]",
									"                }",
									"            },",
									"            required: [\"meta\", \"data\"]",
									"        };",
									"",
									"        var response = pm.response.json();",
									"        pm.expect(tv4.validate(response, schema)).to.be.true;",
									"",
									"        pm.environment.set('fileIdToBeDeleted', response.data.id);",
									"    });",
									"} catch (error) {",
									"    console.log('Error:', error);",
									"    console.log('Response Body', pm.response.text());",
									"}",
									""
								],
								"type": "text/javascript",
								"packages": {
									"@postman/api-builder-request-retry-script": {
										"id": "019491be-1f51-7e13-b196-4e4fec49649f"
									}
								},
								"id": "5e4a94ee-2ab8-4163-bff6-22de85727677"
							}
						}
					],
					"id": "10497157-eb4ed031-4d5e-46f9-b83c-de0e7addca77",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"service\": \"specification\",\n    \"method\": \"post\",\n    \"path\": \"/specifications/{{specificationId1}}/files\",\n    \"body\": {\n        \"name\": \"user.yaml\",\n        \"content\": \"new schema\"\n    }\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{bifrostProxyUrl}}",
							"host": [
								"{{bifrostProxyUrl}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "List all files",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"try {",
									"    const apiBuilderRequestRetryScript = pm.require('@postman/api-builder-request-retry-script');",
									"",
									"    if (apiBuilderRequestRetryScript.retryOnFailure()) {",
									"        // We don't want to run further assertions since this request will be retried because >500 (e.g 502, 504) response code was received.",
									"        return;",
									"    }",
									"",
									"    pm.test(\"Status code is 200\", function () {",
									"        pm.response.to.have.status(200);",
									"    });",
									"",
									"    pm.test(\"Validate file\", function(){",
									"        const responseData = pm.response.json();",
									"",
									"        pm.expect(responseData.data.length).to.eql(2);",
									"        pm.expect(responseData.data[0]).to.have.all.keys('id','name', 'content')",
									"        console.log(responseData);",
									"        console.log(pm.environment.get(\"fileId\"))",
									"",
									"        const targetFileId = pm.environment.get(\"fileId\"),",
									"        file = _.find(responseData.data,{id:targetFileId});",
									"        console.log(file);",
									"",
									"        pm.expect(file.id).to.be.eql(targetFileId);",
									"        pm.expect(file.content).to.be.eql(\"openapi: '3.0.0'\\ninfo:\\n  version: '1.0.0'\\n  title: 'Sample API'\\n  description: Buy or rent spacecrafts\\n\\npaths:\\n  /spacecrafts/{spacecraftId}:\\n    parameters:\\n      - name: spacecraftId\\n        description: The unique identifier of the spacecraft\\n        in: path\\n        required: true\\n        schema:\\n          $ref: '#/components/schemas/SpacecraftId'\\n    get:\\n      summary: Read a spacecraft\\n      responses:\\n        '200':\\n          description: The spacecraft corresponding to the provided spacecraftId\\n          content:\\n            application/json:\\n              schema:\\n                $ref: '#/components/schemas/Spacecraft'\\n        404:\\n          description: No spacecraft found for the provided spacecraftId\\n          content:\\n            application/json:\\n              schema:\\n                $ref: '#/components/schemas/Error'\\n        500:\\n          description: Unexpected error\\n          content:\\n            application/json:\\n              schema:\\n                $ref: '#/components/schemas/Error'\\ncomponents:\\n  schemas:\\n    SpacecraftId:\\n      description: The unique identifier of a spacecraft\\n      type: string\\n    Spacecraft:\\n      type: object\\n      required:\\n        - id\\n        - name\\n        - type\\n      properties:\\n        id:\\n          $ref: '#/components/schemas/SpacecraftId'\\n        name:\\n          type: string\\n        type:\\n          type: string\\n          enum:\\n            - capsule\\n            - probe\\n            - satellite\\n            - spaceplane\\n            - station\\n        description:\\n          type: string\\n    Error:\\n      type: object\\n      required:\\n        - message\\n      properties:\\n        message:\\n          description: A human readable error message\\n          type: string\\n  securitySchemes:\\n    ApiKey:\\n      type: apiKey\\n      in: header\\n      name: X-Api-Key\\nsecurity:\\n  - ApiKey: []\"",
									");",
									"        pm.expect(file.name).to.be.eql(\"index.yml\");",
									"    })",
									"} catch (error) {",
									"    console.log('Error:', error);",
									"    console.log('Response Body', pm.response.text());",
									"}",
									""
								],
								"type": "text/javascript",
								"packages": {
									"@postman/api-builder-request-retry-script": {
										"id": "019491be-1f51-7e13-b196-4e4fec49649f"
									}
								},
								"id": "5ad2b610-9909-4d6b-9303-9cc7b1f91dfa"
							}
						}
					],
					"id": "10497157-febf5f01-5ee3-410f-b83a-db0b6fcdbb4f",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"service\": \"specification\",\n    \"method\": \"get\",\n    \"path\": \"/specifications/{{specificationId1}}/files\",\n    \"query\": {\n        \"fields\": \"content,name,id\"\n    }\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{bifrostProxyUrl}}",
							"host": [
								"{{bifrostProxyUrl}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Update file content",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"try {",
									"    const apiBuilderRequestRetryScript = pm.require('@postman/api-builder-request-retry-script');",
									"",
									"    if (apiBuilderRequestRetryScript.retryOnFailure()) {",
									"        // We don't want to run further assertions since this request will be retried because >500 (e.g 502, 504) response code was received.",
									"        return;",
									"    }",
									"",
									"    pm.test(\"Status code is 200\", function () {",
									"        pm.response.to.have.status(200);",
									"    });",
									"",
									"    pm.test(\"validate content\", function () {",
									"        var jsonData = pm.response.json();",
									"",
									"        pm.expect(jsonData).to.be.an('object');",
									"        pm.expect(jsonData.meta).to.be.an('object');",
									"        pm.expect(jsonData.meta).to.have.property('model');",
									"        pm.expect(jsonData.meta).to.have.property('action');",
									"        pm.expect(jsonData.data).to.be.an('object');",
									"        pm.expect(jsonData.data).to.have.property('id');",
									"        pm.expect(jsonData.data).to.have.property('updatedAt');",
									"        pm.expect(jsonData.data).to.have.property('updatedBy');",
									"",
									"    });",
									"} catch (error) {",
									"    console.log('Error:', error);",
									"    console.log('Response Body', pm.response.text());",
									"}"
								],
								"type": "text/javascript",
								"packages": {
									"@postman/api-builder-request-retry-script": {
										"id": "019491be-1f51-7e13-b196-4e4fec49649f"
									}
								},
								"id": "05d72dd8-d059-4259-b403-5c72ea029a29"
							}
						}
					],
					"id": "10497157-036c48c1-8ae6-41e4-8275-fe1d25d0a10b",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"service\": \"specification\",\n    \"method\": \"patch\",\n    \"path\": \"/specifications/{{specificationId1}}/files/{{fileId}}\",\n    \"body\": [\n        {\n            \"op\": \"replace\",\n            \"path\": \"/content\",\n            \"value\": \"openapi: '3.0.0'\\ninfo:\\n  version: '1.0.0'\\n  title: 'Sample API'\\n  description: Buy or rent another spacecrafts\\n\\npaths:\\n  /spacecrafts/{spacecraftId}:\\n    parameters:\\n      - name: spacecraftId\\n        description: The unique identifier of the spacecraft\\n        in: path\\n        required: true\\n        schema:\\n          $ref: '#/components/schemas/SpacecraftId'\\n    get:\\n      summary: Read a spacecraft\\n      responses:\\n        '200':\\n          description: The spacecraft corresponding to the provided spacecraftId\\n          content:\\n            application/json:\\n              schema:\\n                $ref: '#/components/schemas/Spacecraft'\\n        404:\\n          description: No spacecraft found for the provided spacecraftId\\n          content:\\n            application/json:\\n              schema:\\n                $ref: '#/components/schemas/Error'\\n        500:\\n          description: Unexpected error\\n          content:\\n            application/json:\\n              schema:\\n                $ref: '#/components/schemas/Error'\\ncomponents:\\n  schemas:\\n    SpacecraftId:\\n      description: The unique identifier of a spacecraft\\n      type: string\\n    Spacecraft:\\n      type: object\\n      required:\\n        - id\\n        - name\\n        - type\\n      properties:\\n        id:\\n          $ref: '#/components/schemas/SpacecraftId'\\n        name:\\n          type: string\\n        type:\\n          type: string\\n          enum:\\n            - capsule\\n            - probe\\n            - satellite\\n            - spaceplane\\n            - station\\n        description:\\n          type: string\\n    Error:\\n      type: object\\n      required:\\n        - message\\n      properties:\\n        message:\\n          description: A human readable error message\\n          type: string\\n  securitySchemes:\\n    ApiKey:\\n      type: apiKey\\n      in: header\\n      name: X-Api-Key\\nsecurity:\\n  - ApiKey: []\"\n        }\n    ]\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{bifrostProxyUrl}}",
							"host": [
								"{{bifrostProxyUrl}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Validate updated file record",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "d212118b-9944-4eb3-89bf-ae65765f6c3d",
								"exec": [
									"try {",
									"    const apiBuilderRequestRetryScript = pm.require('@postman/api-builder-request-retry-script');",
									"",
									"    if (apiBuilderRequestRetryScript.retryOnFailure()) {",
									"        // We don't want to run further assertions since this request will be retried because >500 (e.g 502, 504) response code was received.",
									"        return;",
									"    }",
									"",
									"    pm.test(\"Status code is 200\", function () {",
									"        pm.response.to.have.status(200);",
									"    });",
									"",
									"    pm.test(\"Validate updated file\", function(){",
									"        const responseData = pm.response.json(),",
									"        targetFileId = pm.environment.get(\"fileId\"),",
									"        updatedFile = responseData.data;",
									"",
									"        pm.expect(updatedFile.id).to.be.eql(targetFileId);",
									"        pm.expect(updatedFile.content).to.be.eql(\"openapi: '3.0.0'\\ninfo:\\n  version: '1.0.0'\\n  title: 'Sample API'\\n  description: Buy or rent another spacecrafts\\n\\npaths:\\n  /spacecrafts/{spacecraftId}:\\n    parameters:\\n      - name: spacecraftId\\n        description: The unique identifier of the spacecraft\\n        in: path\\n        required: true\\n        schema:\\n          $ref: '#/components/schemas/SpacecraftId'\\n    get:\\n      summary: Read a spacecraft\\n      responses:\\n        '200':\\n          description: The spacecraft corresponding to the provided spacecraftId\\n          content:\\n            application/json:\\n              schema:\\n                $ref: '#/components/schemas/Spacecraft'\\n        404:\\n          description: No spacecraft found for the provided spacecraftId\\n          content:\\n            application/json:\\n              schema:\\n                $ref: '#/components/schemas/Error'\\n        500:\\n          description: Unexpected error\\n          content:\\n            application/json:\\n              schema:\\n                $ref: '#/components/schemas/Error'\\ncomponents:\\n  schemas:\\n    SpacecraftId:\\n      description: The unique identifier of a spacecraft\\n      type: string\\n    Spacecraft:\\n      type: object\\n      required:\\n        - id\\n        - name\\n        - type\\n      properties:\\n        id:\\n          $ref: '#/components/schemas/SpacecraftId'\\n        name:\\n          type: string\\n        type:\\n          type: string\\n          enum:\\n            - capsule\\n            - probe\\n            - satellite\\n            - spaceplane\\n            - station\\n        description:\\n          type: string\\n    Error:\\n      type: object\\n      required:\\n        - message\\n      properties:\\n        message:\\n          description: A human readable error message\\n          type: string\\n  securitySchemes:\\n    ApiKey:\\n      type: apiKey\\n      in: header\\n      name: X-Api-Key\\nsecurity:\\n  - ApiKey: []\");",
									"        pm.expect(updatedFile.name).to.be.eql(\"index.yml\");",
									"    })",
									"} catch (error) {",
									"    console.log('Error:', error);",
									"    console.log('Response Body', pm.response.text());",
									"}",
									""
								],
								"type": "text/javascript",
								"packages": {
									"@postman/api-builder-request-retry-script": {
										"id": "019491be-1f51-7e13-b196-4e4fec49649f"
									}
								}
							}
						}
					],
					"id": "10497157-1502fda8-c0f3-42b7-881f-575df00963c7",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "// this has some data -fork",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{bifrostProxyUrl}}",
							"host": [
								"{{bifrostProxyUrl}}"
							]
						}
					},
					"response": []
				}
			],
			"id": "10497157-d201d0fd-022f-489f-9d34-a62594e4df7e"
		},
		{
			"name": "Collection syncing",
			"item": [
				{
					"name": "Sync collection",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"try {",
									"    const apiBuilderRequestRetryScript = pm.require('@postman/api-builder-request-retry-script');",
									"",
									"    if (apiBuilderRequestRetryScript.retryOnFailure()) {",
									"        // We don't want to run further assertions since this request will be retried because >500 (e.g 502, 504) response code was received.",
									"        return;",
									"    }",
									"",
									"    pm.test(\"Status code is 202\", function () {",
									"        pm.response.to.have.status(202);",
									"    });",
									"",
									"",
									"    if (pm.response.code !== 202)  {",
									"        throw 'StatusCode: ' + pm.response.code;",
									"    }",
									"",
									"    pm.test(\"Response has the required fields - 'meta' and 'data'\", function () {",
									"        const responseData = pm.response.json();",
									"        ",
									"        pm.expect(responseData).to.be.an('object');",
									"        pm.expect(responseData).to.have.property('meta');",
									"        pm.expect(responseData).to.have.property('data');",
									"    });",
									"",
									"",
									"    pm.test(\"TaskId in the response data is a non-empty string\", function () {",
									"        const responseData = pm.response.json();",
									"        ",
									"        pm.expect(responseData.data.taskId).to.be.a('string').and.to.have.lengthOf.at.least(1, \"TaskId should be a non-empty string\");",
									"",
									"        pm.environment.set(\"taskId\", responseData.data.taskId);",
									"    });",
									"",
									"",
									"    pm.test(\"Content type is application/json\", function () {",
									"        pm.expect(pm.response.headers.get(\"Content-Type\")).to.include(\"application/json\");",
									"    });",
									"    ",
									"",
									"} catch (error) {",
									"    console.log('Error:', error);",
									"    console.log('Response Body', pm.response.text());",
									"    pm.execution.setNextRequest('Delete file');",
									"}",
									""
								],
								"type": "text/javascript",
								"packages": {
									"@postman/api-builder-request-retry-script": {
										"id": "019491be-1f51-7e13-b196-4e4fec49649f"
									}
								},
								"id": "bc250e8a-e1d9-4cad-ac37-4f689aa38613"
							}
						}
					],
					"id": "10497157-a917962d-2e82-4e0e-b7de-497a9a428e90",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"service\": \"specification\",\n    \"method\": \"post\",\n    \"path\": \"/specifications/{{specificationId1}}/collections/{{collectionId}}/sync\",\n    \"body\": {}\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{bifrostProxyUrl}}",
							"host": [
								"{{bifrostProxyUrl}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "List syncing task status - until finished",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"try {",
									"    const apiBuilderRequestRetryScript = pm.require('@postman/api-builder-request-retry-script');",
									"",
									"    if (apiBuilderRequestRetryScript.retryOnFailure()) {",
									"        // We don't want to run further assertions since this request will be retried because >500 (e.g 502, 504) response code was received.",
									"        return;",
									"    }",
									"",
									"    pm.test(\"Response status code is 200\", function () {",
									"        pm.response.to.have.status(200);",
									"    });",
									"",
									"    pm.test(\"Syncing is successful\", function () {",
									"        var response = pm.response.json();",
									"        pm.expect(response).to.have.property('meta');",
									"        pm.expect(response).to.have.property('data');",
									"        pm.expect(response.meta).to.be.an('object').that.has.property('model');",
									"        pm.expect(response.meta).to.be.an('object').that.has.property('action');",
									"        pm.expect(response.data).to.be.an('object').that.has.property(pm.environment.get('taskId'));",
									"",
									"        const currentRetryCount = Number(pm.environment.get('syncingStatusRetryCount'));",
									"",
									"        if (currentRetryCount > 5) {",
									"            console.log('Exceeded retries');",
									"",
									"            throw 'Exceeded retries';",
									"        } else if (response.data[pm.environment.get('taskId')] === 'in-progress') {",
									"            pm.environment.set('syncingStatusRetryCount', currentRetryCount + 1);",
									"",
									"            pm.execution.setNextRequest('List syncing task status - until finished');",
									"        } else if (response.data[pm.environment.get('taskId')] === 'failed') {",
									"            throw 'Status: failed';",
									"        }",
									"    });",
									"} catch (err) {",
									"    console.log('Error:', err);",
									"    console.log('Response Body', pm.response.text());",
									"",
									"    pm.execution.setNextRequest('Delete file');",
									"} finally {",
									"    pm.environment.set('syncingStatusRetryCount', 0);",
									"}"
								],
								"type": "text/javascript",
								"packages": {
									"@postman/api-builder-request-retry-script": {
										"id": "019491be-1f51-7e13-b196-4e4fec49649f"
									}
								},
								"id": "a35f9019-46c9-4a21-9466-64250c77d159"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"setTimeout(function() {}, 1000);"
								],
								"type": "text/javascript",
								"packages": {},
								"id": "d5485c8a-511c-49d7-974d-b16b257958c9"
							}
						}
					],
					"id": "10497157-cb652a6b-6642-4443-a36e-09eb804b1775",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"service\": \"specification\",\n    \"method\": \"get\",\n    \"path\": \"/tasks?entityId={{collectionId}}&entityType=collection&type=collection-sync\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{bifrostProxyUrl}}",
							"host": [
								"{{bifrostProxyUrl}}"
							]
						}
					},
					"response": []
				}
			],
			"id": "10497157-377b8b2a-a480-4320-bade-5a47a4e08616"
		},
		{
			"name": "Subscriptions",
			"item": [
				{
					"name": "Create subscription",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"try {",
									"    const apiBuilderRequestRetryScript = pm.require('@postman/api-builder-request-retry-script');",
									"",
									"    if (apiBuilderRequestRetryScript.retryOnFailure()) {",
									"        // We don't want to run further assertions since this request will be retried because >500 (e.g 502, 504) response code was received.",
									"        return;",
									"    }",
									"",
									"    pm.test(\"Status code is 201\", function () {",
									"        pm.response.to.have.status(201);",
									"    });",
									"",
									"    if (pm.response.code !== 201)  {",
									"        throw 'StatusCode: ' + pm.response.code;",
									"    }",
									"",
									"    pm.test(\"Response is an object with meta and data properties\", function () {",
									"        var jsonData = pm.response.json();",
									"        pm.expect(jsonData).to.be.an('object');",
									"        pm.expect(jsonData).to.have.property('meta');",
									"        pm.expect(jsonData).to.have.property('data');",
									"    });",
									"",
									"    pm.test(\"Schema is valid\", function () {",
									"        var schema = {",
									"            type: \"object\",",
									"            properties: {",
									"                meta: {",
									"                    type: \"object\",",
									"                    properties: {",
									"                        action: { type: \"string\" },",
									"                        model: { type: \"string\" }",
									"                    }",
									"                },",
									"                data: {",
									"                    type: \"object\",",
									"                    properties: {},",
									"                    required: []",
									"                }",
									"            },",
									"            required: [\"meta\", \"data\"]",
									"        };",
									"",
									"        var response = pm.response.json();",
									"        pm.expect(tv4.validate(response, schema)).to.be.true;",
									"    });",
									"",
									"",
									"} catch (err) {",
									"    console.log('Error:', err);",
									"    console.log('Response Body', pm.response.text());",
									"}"
								],
								"type": "text/javascript",
								"packages": {
									"@postman/api-builder-request-retry-script": {
										"id": "019491be-1f51-7e13-b196-4e4fec49649f"
									}
								},
								"id": "ba7871ad-7f35-419f-abc2-59d226f33379"
							}
						}
					],
					"id": "10497157-41b5ffb2-96f2-42a4-8c0d-874c10d8772d",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "x-socket-id",
								"value": "test-id",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"service\": \"specification\",\n    \"method\": \"post\",\n    \"path\": \"/subscriptions\",\n    \"body\": {\n        \"models\": [\n            {\n                \"id\": \"{{specificationId1}}\",\n                \"type\": \"specification\"\n            }\n        ]\n    }\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{bifrostProxyUrl}}",
							"host": [
								"{{bifrostProxyUrl}}"
							]
						}
					},
					"response": []
				}
			],
			"id": "10497157-a8f68c8c-962e-403e-8548-34c847e243ed"
		},
		{
			"name": "Cleanup",
			"item": [
				{
					"name": "Delete file",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"try {",
									"    const apiBuilderRequestRetryScript = pm.require('@postman/api-builder-request-retry-script');",
									"",
									"    if (apiBuilderRequestRetryScript.retryOnFailure()) {",
									"        // We don't want to run further assertions since this request will be retried because >500 (e.g 502, 504) response code was received.",
									"        return;",
									"    }",
									"",
									"    pm.test(\"Status code is 200\", function () {",
									"        pm.response.to.have.status(200);",
									"    });",
									"",
									"    pm.test(\"Schema is valid\", function () {",
									"    var schema = {",
									"        type: \"object\",",
									"        properties: {",
									"        meta: {",
									"            type: \"object\",",
									"            properties: {",
									"            action: { type: \"string\" },",
									"            model: { type: \"string\" }",
									"            },",
									"            required: [\"action\", \"model\"]",
									"        },",
									"        data: {",
									"            type: \"object\",",
									"            properties: {",
									"            id: { type: \"string\" }",
									"            },",
									"            required: [\"id\"]",
									"        }",
									"        },",
									"        required: [\"meta\", \"data\"]",
									"    };",
									"",
									"    var response = pm.response.json();",
									"    pm.expect(tv4.validate(response, schema)).to.be.true;",
									"    });",
									"",
									"    pm.test(\"Validate response against saved 'id' value\", function () {",
									"        var savedId = pm.environment.get(\"fileIdToBeDeleted\");",
									"        var responseBody = pm.response.json();",
									"        var responseId = responseBody.data.id;",
									"        pm.expect(responseId).to.equal(savedId);",
									"    });",
									"} catch (error) {",
									"    console.log('Error:', error);",
									"    console.log('Response Body', pm.response.text());",
									"}",
									"",
									""
								],
								"type": "text/javascript",
								"packages": {
									"@postman/api-builder-request-retry-script": {
										"id": "019491be-1f51-7e13-b196-4e4fec49649f"
									}
								},
								"id": "c2809fe6-9b35-45c2-9b97-861dec5ec89f"
							}
						}
					],
					"id": "10497157-ed914534-913a-43be-abe2-915e3e115e96",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"service\": \"specification\",\n    \"method\": \"DELETE\",\n    \"path\": \"/specifications/{{specificationId1}}/files/{{fileIdToBeDeleted}}\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{bifrostProxyUrl}}",
							"host": [
								"{{bifrostProxyUrl}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Delete folder",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"try {",
									"    const apiBuilderRequestRetryScript = pm.require('@postman/api-builder-request-retry-script');",
									"",
									"    if (apiBuilderRequestRetryScript.retryOnFailure()) {",
									"        // We don't want to run further assertions since this request will be retried because >500 (e.g 502, 504) response code was received.",
									"        return;",
									"    }",
									"",
									"    pm.test(\"Status code is 200\", function () {",
									"        pm.response.to.have.status(200);",
									"    });",
									"",
									"    pm.test('Response body is valid', function () {",
									"        const jsonData = pm.response.json();",
									"",
									"        pm.expect(jsonData).to.be.an('object');",
									"        pm.expect(jsonData).to.have.all.keys(['meta', 'data']);",
									"    });",
									"",
									"    pm.test(\"Response body.meta is valid\", function () {",
									"        const jsonData = pm.response.json();",
									"",
									"        pm.expect(jsonData.meta).to.be.an('object');",
									"        pm.expect(jsonData.meta).to.have.property('model', 'SpecificationFolder');",
									"        pm.expect(jsonData.meta).to.have.property('action', 'delete');",
									"    });",
									"",
									"    pm.test(\"Response body.data is valid\", function () {",
									"        var jsonData = pm.response.json();",
									"",
									"        pm.expect(jsonData.data).to.be.an('object');",
									"        pm.expect(jsonData.data).to.have.all.keys('id');",
									"    });",
									"} catch (error) {",
									"    console.log('Error:', err);",
									"    console.log('Response Body', pm.response.text());",
									"}",
									""
								],
								"type": "text/javascript",
								"packages": {
									"@postman/api-builder-request-retry-script": {
										"id": "019491be-1f51-7e13-b196-4e4fec49649f"
									}
								},
								"id": "e0e91009-0fcd-4e16-9394-94ceee100430"
							}
						}
					],
					"id": "10497157-4f8a25f4-8aec-464e-adbf-c26f06907ebe",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"service\": \"specification\",\n    \"method\": \"delete\",\n    \"path\": \"/specifications/{{specificationId1}}/folders/{{spec1FolderId1}}\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{bifrostProxyUrl}}",
							"host": [
								"{{bifrostProxyUrl}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Delete subscription",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"try {",
									"    const apiBuilderRequestRetryScript = pm.require('@postman/api-builder-request-retry-script');",
									"",
									"    if (apiBuilderRequestRetryScript.retryOnFailure()) {",
									"        // We don't want to run further assertions since this request will be retried because >500 (e.g 502, 504) response code was received.",
									"        return;",
									"    }",
									"",
									"    pm.test(\"Status code is 204\", function () {",
									"        pm.response.to.have.status(204);",
									"    });",
									"} catch (err) {",
									"    console.log('Error:', err);",
									"    console.log('Response Body', pm.response.text());",
									"}"
								],
								"type": "text/javascript",
								"packages": {
									"@postman/api-builder-request-retry-script": {
										"id": "019491be-1f51-7e13-b196-4e4fec49649f"
									}
								},
								"id": "820ea480-ed01-4e28-bb44-553790ea03ac"
							}
						}
					],
					"id": "10497157-1ba92909-2e3c-4306-ac2e-f48bd5470219",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "x-socket-id",
								"value": "test-id",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"service\": \"specification\",\n    \"method\": \"delete\",\n    \"path\": \"/subscriptions\",\n    \"body\": {\n        \"models\": [\n            {\n                \"id\": \"{{specificationId1}}\",\n                \"type\": \"specification\"\n            }\n        ]\n    }\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{bifrostProxyUrl}}",
							"host": [
								"{{bifrostProxyUrl}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Update Spec",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"try {",
									"    const apiBuilderRequestRetryScript = pm.require('@postman/api-builder-request-retry-script');",
									"",
									"    if (apiBuilderRequestRetryScript.retryOnFailure()) {",
									"        // We don't want to run further assertions since this request will be retried because >500 (e.g 502, 504) response code was received.",
									"        return;",
									"    }",
									"",
									"    pm.test(\"Meta and Data objects are present in the response\", function () {",
									"        const responseData = pm.response.json();",
									"",
									"        pm.expect(responseData).to.be.an('object');",
									"        pm.expect(responseData.meta).to.exist.and.to.be.an('object');",
									"        pm.expect(responseData.data).to.exist.and.to.be.an('object');",
									"    });",
									"",
									"    pm.test(\"Data object contains all required keys\", function () {",
									"    const responseData = pm.response.json();",
									"    ",
									"    pm.expect(responseData.data).to.be.an('object');",
									"    pm.expect(responseData.data).to.include.all.keys('id', 'type', 'name', 'description', 'createdBy', 'updatedBy', 'createdAt', 'updatedAt');",
									"    });",
									"",
									"    pm.test('Data object should contain updated name', function () {",
									"        var responseData = pm.response.json();",
									"        pm.expect(responseData).to.be.an('object');",
									"        pm.expect(responseData.data.name).to.be.equal('Updated name');",
									"    });",
									"",
									"} catch (error) {",
									"    console.log('Error:', error);",
									"    console.log('Response Body', pm.response.text());",
									"}"
								],
								"type": "text/javascript",
								"packages": {
									"@postman/api-builder-request-retry-script": {
										"id": "019491be-1f51-7e13-b196-4e4fec49649f"
									}
								},
								"id": "40d6b478-9a10-4a40-9dfd-fc960ac30df1"
							}
						}
					],
					"id": "10497157-db9daed1-fd77-46d5-ba8b-5226c715f5a3",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"service\": \"specification\",\n    \"method\": \"patch\",\n    \"path\": \"/specifications/{{specificationId1}}\",\n    \"body\": [\n        {\n            \"op\": \"replace\",\n            \"path\": \"/name\",\n            \"value\": \"Updated name\"\n        }\n    ]\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{bifrostProxyUrl}}",
							"host": [
								"{{bifrostProxyUrl}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Delete Spec",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"try {",
									"    const apiBuilderRequestRetryScript = pm.require('@postman/api-builder-request-retry-script');",
									"",
									"    if (apiBuilderRequestRetryScript.retryOnFailure()) {",
									"        // We don't want to run further assertions since this request will be retried because >500 (e.g 502, 504) response code was received.",
									"        return;",
									"    }",
									"",
									"    pm.test(\"Response time is within 5 seconds\", function () {",
									"        pm.expect(pm.response.responseTime).to.be.below(5000);",
									"    });",
									"",
									"    pm.test(\"Status code is 200\", function () {",
									"        pm.response.to.have.status(200);",
									"    });",
									"",
									"    pm.test(\"Schema is valid\", function () {",
									"    var schema = {",
									"        type: \"object\",",
									"        properties: {",
									"        meta: {",
									"            type: \"object\",",
									"            properties: {",
									"            action: { type: \"string\" },",
									"            model: { type: \"string\" }",
									"            },",
									"            required: [\"action\", \"model\"]",
									"        },",
									"        data: {",
									"            type: \"object\",",
									"            properties: {",
									"            id: { type: \"string\" }",
									"            },",
									"            required: [\"id\"]",
									"        }",
									"        },",
									"        required: [\"meta\", \"data\"]",
									"    };",
									"",
									"    var response = pm.response.json();",
									"    pm.expect(tv4.validate(response, schema)).to.be.true;",
									"    });",
									"",
									"    // Test for response against saved value",
									"    pm.test(\"Validate response against saved 'id' value\", function () {",
									"        var savedId = pm.environment.get(\"specificationId1\");",
									"        var responseBody = pm.response.json();",
									"        var responseId = responseBody.data.id;",
									"        pm.expect(responseId).to.equal(savedId);",
									"    });",
									"} catch (err) {",
									"    console.log('Error:', err);",
									"    console.log('Response Body', pm.response.text());",
									"}"
								],
								"type": "text/javascript",
								"packages": {
									"@postman/api-builder-request-retry-script": {
										"id": "019491be-1f51-7e13-b196-4e4fec49649f"
									}
								},
								"id": "3281aabf-2b25-43de-8d12-cbde06542b1f"
							}
						}
					],
					"id": "10497157-4f2d5922-efba-40d0-805f-576d5e5cb66c",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"service\": \"specification\",\n    \"method\": \"delete\",\n    \"path\": \"/specifications/{{specificationId1}}\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{bifrostProxyUrl}}",
							"host": [
								"{{bifrostProxyUrl}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Delete a collection",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"",
									""
								],
								"type": "text/javascript",
								"packages": {},
								"id": "60faf36e-57e8-4335-b1aa-d5bf4419530c"
							}
						}
					],
					"id": "10497157-8d96c35c-6978-4360-a4dd-e042f59273cf",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{bifrostHost}}/collection/{{collectionId}}",
							"host": [
								"{{bifrostHost}}"
							],
							"path": [
								"collection",
								"{{collectionId}}"
							]
						},
						"description": "Generated from cURL: curl --location --globoff --request DELETE '{{baseUrl}}/collection/694899-ea8013be-34a1-4e3a-8bb4-15dc423e220d'"
					},
					"response": []
				}
			],
			"id": "10497157-046e7e17-94d8-4427-a9a0-287aef2de39b"
		}
	],
	"auth": {
		"type": "apikey",
		"apikey": [
			{
				"key": "value",
				"value": "{{userToken}}",
				"type": "string"
			},
			{
				"key": "key",
				"value": "x-access-token",
				"type": "string"
			}
		]
	},
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				],
				"id": "da6d6386-c8b6-46bd-989e-56dfaee9b152"
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"exec": [
					"if (pm.response.code >= 500) {",
					"    console.log('Response code: ', pm.response.code);",
					"    console.log('Response body: ', pm.response.text());",
					"}"
				],
				"id": "1f59df5e-f595-4fdb-ba97-f0a9cfaffbce"
			}
		}
	],
	"variable": [
		{
			"key": "baseUrl",
			"value": "https://api-specification.postman-beta.tech",
			"type": "string"
		}
	]
}